{"version":3,"sources":["Book.js","App.js","index.js"],"names":["Book","props","useState","accomodations","setAccomodations","checkIn","setCheckIn","checkOut","setCheckout","adults","setAdults","accomodationId","setAccomodationId","comment","setComment","bookings","setBookings","language","setLanguage","showFavs","setShoFavs","favs","setFavs","translate","key","hu","en","useEffect","axios","get","then","res","data","window","localStorage","JSON","parse","startDate","Date","setDate","firstMonday","getTime","getDay","lastDay","setMonth","getMonth","days","now","i","day","active","selected","today","getDate","getFullYear","taken","some","booking","start1","end1","start2","end2","push","d","className","href","onClick","value","onChange","e","target","hidden","map","a","id","name","type","filter","accomodation","find","style","backgroundImage","img","alt","scrollTo","favs2","stringify","description","toLocaleDateString","length","price","disabled","post","bookingDate","alert","catch","App","loggedIn","history","useHistory","location","useLocation","pathname","startsWith","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d47789d8.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport './Book.scss'\r\n\r\nimport hu from './lang/hu.json'\r\nimport en from './lang/en.json'\r\n\r\n\r\n\r\nconst checkIfDatesIntersect = (start1, end1, start2, end2) => {\r\n\tstart1 = new Date(start1)\r\n\tstart2 = new Date(start2)\r\n\tend1 = new Date(end1)\r\n\tend2 = new Date(end2)\r\n\treturn ((start2 >= start1 && start2 <= end1) || (end2 >= start1 && end2 <= end1) || (start2 <= start1 && end2 >= end1))\r\n}\r\n\r\nconst Book = (props) => {\r\n\t\r\n\tconst [accomodations, setAccomodations] = useState([])\r\n\tconst [checkIn, setCheckIn] = useState(\"\")\r\n    const [checkOut, setCheckout] = useState(\"\")\r\n\tconst [adults, setAdults] = useState(1)\r\n    const [accomodationId, setAccomodationId] = useState(\"\")\r\n\tconst [comment, setComment] = useState(\"\")\r\n\r\n\tconst [bookings, setBookings] = useState([])\r\n\r\n\tconst [language, setLanguage] = useState(\"en\")\r\n\r\n\tconst [showFavs, setShoFavs] = useState(false)\r\n\r\n\tconst [favs, setFavs] = useState([])\r\n\r\n\tconst translate = (key) => {\r\n\t\tif (language == \"hu\") return hu[key]\r\n\t\telse if (language == \"en\") return en[key]\r\n\t\treturn key\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\taxios.get(\"http://localhost:8000/api/accomodations\").then(res => {\r\n\t\t\tsetAccomodations(res.data)\r\n\t\t})\r\n\t\tif (!window.localStorage.favs) window.localStorage.favs = \"[]\"\r\n\t\tsetFavs(JSON.parse(window.localStorage.favs))\r\n\t}, [])\r\n\r\n\r\n\tuseEffect(()=>{\r\n\t\tif (accomodationId) {\r\n\t\t\taxios.get(\"http://localhost:8000/api/accomodations/\" + accomodationId + \"/bookings\").then(res => {\r\n\t\t\t\tsetBookings(res.data)\r\n\t\t\t})\r\n\t\t}\r\n\t}, [accomodationId])\r\n\r\n\tconst daysOfTheWeek = [\"M\", \"Tu\", \"W\", \"Th\", \"F\", \"Sa\", \"Su\"]\r\n\r\n\tlet startDate = new Date(checkIn)\r\n\tstartDate.setDate(1)\r\n\r\n\tlet firstMonday = new Date(startDate.getTime() - (1000 * 60 * 60 * 24 * (startDate.getDay() == 0 ? 6 : startDate.getDay() - 1)))\r\n\tlet lastDay = new Date(checkOut)\r\n\tlastDay.setMonth(lastDay.getMonth() + 1)\r\n\tlastDay.setDate(1)\r\n\tlastDay.setDate(lastDay.getDay() == 0 ? 1 : 8-lastDay.getDay())\r\n\r\n\tlet days = []\r\n\r\n\tlet now = new Date()\r\n\r\n\tfor (let i = firstMonday; i <= lastDay; i = new Date(i.getTime() + 1000*60*60*24)) {\r\n\t\tlet day = i\r\n\t\tlet active = !(day.getMonth() != new Date(checkIn).getMonth() && day.getMonth() != new Date(checkOut).getMonth())\r\n\t\tlet selected = day.getTime() >= new Date(checkIn).getTime() && day.getTime() <= new Date(checkOut).getTime()\r\n\t\tlet today = day.getDate() == now.getDate() && day.getMonth() == now.getMonth() && day.getFullYear() == now.getFullYear()\r\n\r\n\t\tlet taken = bookings.some(booking => checkIfDatesIntersect(day, day, booking.checkIn, booking.checkOut))\r\n\r\n\t\tdays.push({d: i, active, selected, taken, today})\r\n\r\n\t}\r\n\r\n\tconst makeBooking = () => {\r\n\t\taxios.post('http://localhost:8000/api/bookings', {\r\n\t\t\taccomodationId,\r\n\t\t\tcheckOut, \r\n\t\t\tcheckIn,\r\n\t\t\tbookingDate: new Date(),\r\n\t\t\tcomment\r\n\t\t}).then(() => {\r\n\t\t\talert(\"Booked successfully!\")\r\n\t\t\tsetAccomodationId(\"\")\r\n\t\t\tsetCheckIn(\"\")\r\n\t\t\tsetCheckout(\"\")\r\n\t\t\tsetComment(\"\")\r\n\t\t}).catch(()=>{\r\n\t\t\talert(\"Could not make booking.\")\r\n\t\t})\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"container book\">\r\n\t\t\t{/* <div className=\"banner-img\" style={{backgroundImage: `url(/img/${accomodations.find(a=>a.id == accomodationId)?.img})`}}></div> */}\r\n\t\t\t<div className=\"banner form-inline\">\r\n\t\t\t\t<div className=\"language\">\r\n\t\t\t\t\t<a href=\"#\" onClick={()=>setLanguage(\"hu\")}>hu</a>&nbsp;&nbsp;|&nbsp;\r\n\r\n\t\t\t\t\t<a href=\"#\" onClick={()=>setLanguage(\"en\")}>en</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<select className=\"form-control\"  value={accomodationId} onChange={e=>setAccomodationId(e.target.value)}>\r\n\t\t\t\t\t<option value=\"\" selected hidden>{translate(\"select-accomodation\")}</option>\r\n                    {accomodations.map(a=><option value={a.id}>{a.name}</option>)}\r\n                </select>\r\n\t\t\t\t<label>{translate(\"check-in\")}</label>\r\n                <input className=\"form-control\" type=\"date\" value={checkIn} onChange={e=>setCheckIn(e.target.value)}/>\r\n                <label>{translate(\"check-out\")}</label>\r\n                <input className=\"form-control\" type=\"date\" value={checkOut} onChange={e=>setCheckout(e.target.value)}/>\r\n\t\t\t\t<label>{translate(\"adults\")}</label>\r\n                <input className=\"form-control adults\" type=\"number\" value={adults} onChange={e=>setAdults(e.target.value)}/>\r\n\t\t\t</div>\r\n\t\t\t{ checkIn==\"\" || checkOut==\"\" ?\r\n\t\t\t<div className=\"accomodations\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"title\">Accomodations</div>\r\n\t\t\t\t\t<button className=\"btn btn-warning show-favs\" onClick={()=>setShoFavs(!showFavs)}>Show favourites</button>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t{(showFavs ? accomodations.filter(accomodation=>{\r\n\t\t\t\t\t\t\tif (!window.localStorage.favs) window.localStorage.favs = \"[]\"\r\n\t\t\t\t\t\t\tlet favs = JSON.parse(window.localStorage.favs)\r\n\t\t\t\t\t\t\treturn (favs.find(a=>a==accomodation.id))\r\n\t\t\t\t\t\t}) : accomodations).map((accomodation, key) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<div style={{backgroundImage: `url(/img/${accomodation.img})`}} className=\"img card-img-top\" alt=\"...\" />\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\" onClick={()=>{\r\n\t\t\t\t\t\t\t\t\t\t\tsetAccomodationId(accomodation.id)\r\n\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0,0)\r\n\t\t\t\t\t\t\t\t\t\t}}>{accomodation.name}</h5>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-warning fav\" onClick={()=>{\r\n\t\t\t\t\t\t\t\t\t\t\tif (!window.localStorage.favs) window.localStorage.favs = \"[]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tlet favs2 = JSON.parse(window.localStorage.favs)\r\n\t\t\t\t\t\t\t\t\t\t\tif (favs2.find(a=>a==accomodation.id)) return\r\n\t\t\t\t\t\t\t\t\t\t\tfavs2.push(accomodation.id)\r\n\t\t\t\t\t\t\t\t\t\t\tsetFavs(favs2)\r\n\t\t\t\t\t\t\t\t\t\t\twindow.localStorage.favs = JSON.stringify(favs2)\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{favs.find(a=>a==accomodation.id) ? 'Remove from favourite' : 'Add to favourites'}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"card-text\">{accomodation.description}</p>\r\n\t\t\t\t\t\t\t\t\t\t{/* <a href=\"#\" className=\"btn btn-primary\">Go somewhere</a> */}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t :\r\n\t\t\t <>\r\n\t\t\t<div className=\"calendar\">\r\n\t\t\t\t<div className=\"title\">Calendar</div>\r\n\t\t\t\t{daysOfTheWeek.map(day=><div className=\"cell\">{day}</div>)}\r\n\t\t\t\t{days.map(day=>\r\n\t\t\t\t\t<div className={`cell square ${!day.active ? 'inactive' : ''} ${day.selected ? 'selected' : ''} ${day.taken ? 'taken' : ''}`}>\r\n\t\t\t\t\t\t<span className={`date ${day.today ? 'today' : ''}`}>{day.d.getDate()}</span>\r\n\t\t\t\t\t\t{day.taken ? <div className=\"taken\">X</div> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div> \r\n\t\t\t<div className=\"summary\">\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t{accomodations.find(a => a.id == accomodationId)?.name}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"days\">\r\n\t\t\t\t\t{new Date(checkIn).toLocaleDateString()} - {new Date(checkOut).toLocaleDateString()}\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t{days.filter(d=>d.selected).length} days\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{adults} adult{adults > 1 ? 's' : ''}\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"price\">\r\n\t\t\t\t\tTotal: ${accomodations.find(a => a.id == accomodationId)?.price * days.filter(d=>d.selected).length * adults}\r\n\t\t\t\t</div>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<label>Comment</label>\r\n\t\t\t\t<textarea className=\"form-control\" value={comment} onChange={e=>setComment(e.target.value)}></textarea>\r\n\t\t\t\t\r\n\t\t\t\t{days.some(d=>d.selected&&d.taken) ? <div className=\"error\">You cannot book for these dates.</div> : null}\r\n\t\t\t\t<button className=\"btn btn-primary btn-lg\" disabled={days.some(d=>d.selected&&d.taken)} onClick={makeBooking}>\r\n\t\t\t\t\tBook now\r\n\t\t\t\t</button>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t</>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Book\r\n","import './App.scss'\n//import {  } from 'react-router'\nimport { BrowserRouter as Router, Route, useHistory, Switch, useLocation } from 'react-router-dom'\nimport { useEffect, useState } from 'react'\nimport Login from './Login'\nimport Admin from './Admin'\nimport Book from './Book'\n\nconst App = () => {\n\n\tconst [loggedIn, setLoggedIn] = useState(false)\n\tconst history = useHistory()\n\tconst location = useLocation()\n\t\n\tuseEffect(() => {\n        if (!loggedIn && location.pathname.startsWith(\"/admin\")) history.push(\"/admin/login\")\n    }, [loggedIn])\n\t\n\treturn (\n\t\t<div className=\"bg\">\n\t\t\t<Switch>\n\t\t\t\t{/* <Route path=\"/admin/login\">\n\t\t\t\t\t<Login setLoggedIn={setLoggedIn} loggedIn={loggedIn} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/admin\">\n\t\t\t\t\t <Admin logout={()=>setLoggedIn(false)} />\n\t\t\t\t</Route> */}\n\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t<Book />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n    <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}