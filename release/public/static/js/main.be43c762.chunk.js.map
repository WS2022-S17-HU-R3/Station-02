{"version":3,"sources":["Login.js","Accomodations.js","Bookings.js","Admin.js","App.js","index.js"],"names":["Login","props","useState","username","setUsername","password","setPassword","history","useHistory","useEffect","loggedIn","push","className","type","placeholder","value","onChange","e","target","onClick","setLoggedIn","Accomodation","accomodations","setAccomodations","axios","get","then","res","data","map","row","style","width","id","name","price","Bookings","bookings","setBookings","checkIn","setCheckIn","checkOut","setCheckout","bookingDate","setBookingDate","comment","setComment","accomodationId","setAccomodationId","fetchBookings","a","post","catch","alert","find","Date","toLocaleDateString","delete","Admin","location","useLocation","console","log","pathname","logout","path","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be43c762.chunk.js","sourcesContent":["import { useState } from 'react'\r\nimport { BrowserRouter as Router, Route, useHistory } from 'react-router-dom'\r\nimport { useEffect } from 'react'\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const history = useHistory()\r\n\r\n    const login = () => {\r\n        if (username === 'admin' && password === '123'){\r\n            props.setLoggedIn(true)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.loggedIn) history.push(\"/admin/accomodations\")\r\n    }, [props.loggedIn])\r\n\r\n\treturn (\r\n        <div className=\"login-container\">\r\n            <div className=\"login\">\r\n                <div className=\"title\">Login</div>\r\n                <input type=\"text\" placeholder=\"Username\" className=\"form-control\" value={username} onChange={e => setUsername(e.target.value)} />\r\n                <input type=\"password\" placeholder=\"Password\" className=\"form-control\" value={password} onChange={e => setPassword(e.target.value)}/>\r\n                <button className=\"btn btn-primary btn-block\" onClick={login}>Login</button>\r\n            </div>\r\n        </div>\r\n\t)\r\n}\r\n\r\nexport default Login\r\n","import { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Accomodation = (props) => {\r\n\r\n    const [accomodations, setAccomodations] = useState([])\r\n\r\n    useEffect(()=>{\r\n        axios.get(\"http://skills-it.hu/api/accomodations\").then(res => {\r\n            setAccomodations(res.data)\r\n        })\r\n    }, [])\r\n\r\n\treturn (\r\n        <div>\r\n            <div className=\"title\">\r\n                Accomodations\r\n            </div>\r\n            <table className=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Name</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {accomodations.map(row => {\r\n                        return <tr>\r\n                            <td style={{width: '10px'}}>{row.id}</td>\r\n                            <td>{row.name}</td>\r\n                            <td>{row.price}</td>\r\n                        </tr>\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\t)\r\n}\r\n\r\nexport default Accomodation\r\n","import { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Bookings = (props) => {\r\n\r\n    const [accomodations, setAccomodations] = useState([])\r\n    const [bookings, setBookings] = useState([])\r\n\r\n    const [checkIn, setCheckIn] = useState(\"\")\r\n    const [checkOut, setCheckout] = useState(\"\")\r\n    const [bookingDate, setBookingDate] = useState(\"\")\r\n    const [comment, setComment] = useState(\"\")\r\n    const [accomodationId, setAccomodationId] = useState(\"\")\r\n    \r\n\r\n    const fetchBookings = () => {\r\n        return axios.get(\"http://skills-it.hu/api/bookings\").then(res => {\r\n            setBookings(res.data)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetchBookings()\r\n        axios.get(\"http://skills-it.hu/api/accomodations\").then(res => {\r\n            setAccomodations(res.data)\r\n        })\r\n    }, [])\r\n\r\n    const deleteBooking = (id) => {\r\n        axios.delete(\"http://skills-it.hu/api/bookings/\" + id).then(res => {\r\n            fetchBookings()\r\n        }).catch(() => {\r\n            alert(\"Cannot delete\")\r\n        })\r\n    }\r\n\r\n    const saveBooking = () => {\r\n        axios.post(\"http://skills-it.hu/api/bookings/\", {\r\n            checkIn, checkOut, accomodationId, bookingDate, comment\r\n        }).then(() => fetchBookings()).catch(() => {\r\n            alert(\"Cannot add booking\")\r\n        })\r\n    }\r\n\r\n\treturn (\r\n        <div>\r\n            <div className=\"title\">\r\n                Bookings\r\n            </div>\r\n            <hr />\r\n            <div className=\"form-inline\">\r\n                <select className=\"form-control\"  value={accomodationId} onChange={e=>setAccomodationId(e.target.value)}>\r\n                    {accomodations.map(a=><option value={a.id}>{a.name}</option>)}\r\n                </select>\r\n                <label>Check in</label>\r\n                <input className=\"form-control\" type=\"date\" value={checkIn} onChange={e=>setCheckIn(e.target.value)}/>\r\n                <label>Check out</label>\r\n                <input className=\"form-control\" type=\"date\" value={checkOut} onChange={e=>setCheckout(e.target.value)}/>\r\n                <label>Booking date</label>\r\n                <input className=\"form-control\" type=\"date\" value={bookingDate} onChange={e=>setBookingDate(e.target.value)}/>\r\n            </div>\r\n            <label>Comment</label>\r\n                <input className=\"form-control\" type=\"text\" value={comment} onChange={e=>setComment(e.target.value)}/>\r\n                <br />\r\n            <div className=\"btn btn-primary btn-large\" onClick={saveBooking}>\r\n                Save booking\r\n            </div>\r\n            <hr />\r\n            \r\n            <table className=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Accomodation</th>\r\n                        <th>From</th>\r\n                        <th>To</th>\r\n                        <th>Date</th>\r\n                        <th>Comment</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {bookings.map(row => {\r\n                        return <tr key={row.id}>\r\n                            <td style={{width: '10px'}}>{row.id}</td>\r\n                            <td>{accomodations.find(a=>a.id == row.accomodationId)?.name}</td>\r\n                            <td>{new Date(row.checkIn).toLocaleDateString()}</td>\r\n                            <td>{new Date(row.checkOut).toLocaleDateString()}</td>\r\n                            <td>{new Date(row.bookingDate).toLocaleDateString()}</td>\r\n                            <td>{row.comment}</td>\r\n                            <td>\r\n                                <div className=\"btn btn-danger\" onClick={()=>deleteBooking(row.id)}>\r\n                                    Delete\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\t)\r\n}\r\n\r\nexport default Bookings\r\n","import { useState } from 'react'\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom'\r\n\r\nimport Accomodation from './Accomodations'\r\nimport Bookings from './Bookings'\r\n\r\nconst Admin = (props) => {\r\n\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    console.log(location)\r\n\r\n\treturn (\r\n        <div className=\"container admin-container\">\r\n            <div className=\"header\">\r\n                <div className=\"header-title\">\r\n                    Admin\r\n                </div>\r\n                <div className={`header-link ${location.pathname === '/admin/accomodations' ? 'active' : ''}`} onClick={()=>history.push(\"/admin/accomodations\")}>\r\n                    Accomodations\r\n                </div>\r\n                <div className={`header-link ${location.pathname === '/admin/bookings' ? 'active' : ''}`}  onClick={()=>history.push(\"/admin/bookings\")}>\r\n                    <span>Bookings</span>\r\n                </div>\r\n                <div className=\"header-link header-logout\" onClick={props.logout}>\r\n                    <div>Logout</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"content\">\r\n                <Switch>\r\n                    <Route path=\"/admin/accomodations\">\r\n                        <Accomodation />\r\n                    </Route>\r\n                    <Route path=\"/admin/bookings\">\r\n                        <Bookings />\r\n                    </Route>\r\n                </Switch>\r\n                \r\n            </div>\r\n        </div>\r\n\t)\r\n}\r\n\r\nexport default Admin\r\n","import './App.scss'\n//import {  } from 'react-router'\nimport { BrowserRouter as Router, Route, useHistory, Switch } from 'react-router-dom'\nimport { useEffect, useState } from 'react'\nimport Login from './Login'\nimport Admin from './Admin'\n\nconst App = () => {\n\n\tconst [loggedIn, setLoggedIn] = useState(false)\n\tconst history = useHistory()\n\t\n\tuseEffect(() => {\n        if (!loggedIn) history.push(\"/admin/login\")\n    }, [loggedIn])\n\t\n\treturn (\n\t\t<div className=\"bg\">\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/admin/login\">\n\t\t\t\t\t<Login setLoggedIn={setLoggedIn} loggedIn={loggedIn} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/admin\">\n\t\t\t\t\t<Admin logout={()=>setLoggedIn(false)} />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n    <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}