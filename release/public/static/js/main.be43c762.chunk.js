(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(26),s=c.n(i),o=(c(32),c(4)),j=(c(33),c(2)),r=c(0),l=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),d=l[0],b=l[1],h=Object(j.f)();return Object(n.useEffect)((function(){e.loggedIn&&h.push("/admin/accomodations")}),[e.loggedIn]),Object(r.jsx)("div",{className:"login-container",children:Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("div",{className:"title",children:"Login"}),Object(r.jsx)("input",{type:"text",placeholder:"Username",className:"form-control",value:a,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("input",{type:"password",placeholder:"Password",className:"form-control",value:d,onChange:function(e){return b(e.target.value)}}),Object(r.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){"admin"===a&&"123"===d&&e.setLoggedIn(!0)},children:"Login"})]})})},d=c(10),b=c.n(d),h=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],i=c[1];return Object(n.useEffect)((function(){b.a.get("http://skills-it.hu/api/accomodations").then((function(e){i(e.data)}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"title",children:"Accomodations"}),Object(r.jsxs)("table",{className:"table table-hover",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Price"})]})}),Object(r.jsx)("tbody",{children:a.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{style:{width:"10px"},children:e.id}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.price})]})}))})]})]})},u=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)([]),j=Object(o.a)(s,2),l=j[0],d=j[1],h=Object(n.useState)(""),u=Object(o.a)(h,2),O=u[0],x=u[1],m=Object(n.useState)(""),g=Object(o.a)(m,2),f=g[0],p=g[1],v=Object(n.useState)(""),k=Object(o.a)(v,2),N=k[0],C=k[1],S=Object(n.useState)(""),y=Object(o.a)(S,2),D=y[0],I=y[1],w=Object(n.useState)(""),L=Object(o.a)(w,2),E=L[0],A=L[1],B=function(){return b.a.get("http://skills-it.hu/api/bookings").then((function(e){d(e.data)}))};Object(n.useEffect)((function(){B(),b.a.get("http://skills-it.hu/api/accomodations").then((function(e){i(e.data)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"title",children:"Bookings"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"form-inline",children:[Object(r.jsx)("select",{className:"form-control",value:E,onChange:function(e){return A(e.target.value)},children:a.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name})}))}),Object(r.jsx)("label",{children:"Check in"}),Object(r.jsx)("input",{className:"form-control",type:"date",value:O,onChange:function(e){return x(e.target.value)}}),Object(r.jsx)("label",{children:"Check out"}),Object(r.jsx)("input",{className:"form-control",type:"date",value:f,onChange:function(e){return p(e.target.value)}}),Object(r.jsx)("label",{children:"Booking date"}),Object(r.jsx)("input",{className:"form-control",type:"date",value:N,onChange:function(e){return C(e.target.value)}})]}),Object(r.jsx)("label",{children:"Comment"}),Object(r.jsx)("input",{className:"form-control",type:"text",value:D,onChange:function(e){return I(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"btn btn-primary btn-large",onClick:function(){b.a.post("http://skills-it.hu/api/bookings/",{checkIn:O,checkOut:f,accomodationId:E,bookingDate:N,comment:D}).then((function(){return B()})).catch((function(){alert("Cannot add booking")}))},children:"Save booking"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("table",{className:"table table-hover",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Accomodation"}),Object(r.jsx)("th",{children:"From"}),Object(r.jsx)("th",{children:"To"}),Object(r.jsx)("th",{children:"Date"}),Object(r.jsx)("th",{children:"Comment"}),Object(r.jsx)("th",{})]})}),Object(r.jsx)("tbody",{children:l.map((function(e){var t;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{style:{width:"10px"},children:e.id}),Object(r.jsx)("td",{children:null===(t=a.find((function(t){return t.id==e.accomodationId})))||void 0===t?void 0:t.name}),Object(r.jsx)("td",{children:new Date(e.checkIn).toLocaleDateString()}),Object(r.jsx)("td",{children:new Date(e.checkOut).toLocaleDateString()}),Object(r.jsx)("td",{children:new Date(e.bookingDate).toLocaleDateString()}),Object(r.jsx)("td",{children:e.comment}),Object(r.jsx)("td",{children:Object(r.jsx)("div",{className:"btn btn-danger",onClick:function(){return t=e.id,void b.a.delete("http://skills-it.hu/api/bookings/"+t).then((function(e){B()})).catch((function(){alert("Cannot delete")}));var t},children:"Delete"})})]},e.id)}))})]})]})},O=function(e){var t=Object(j.f)(),c=Object(j.g)();return console.log(c),Object(r.jsxs)("div",{className:"container admin-container",children:[Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)("div",{className:"header-title",children:"Admin"}),Object(r.jsx)("div",{className:"header-link ".concat("/admin/accomodations"===c.pathname?"active":""),onClick:function(){return t.push("/admin/accomodations")},children:"Accomodations"}),Object(r.jsx)("div",{className:"header-link ".concat("/admin/bookings"===c.pathname?"active":""),onClick:function(){return t.push("/admin/bookings")},children:Object(r.jsx)("span",{children:"Bookings"})}),Object(r.jsx)("div",{className:"header-link header-logout",onClick:e.logout,children:Object(r.jsx)("div",{children:"Logout"})})]}),Object(r.jsx)("div",{className:"content",children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{path:"/admin/accomodations",children:Object(r.jsx)(h,{})}),Object(r.jsx)(j.a,{path:"/admin/bookings",children:Object(r.jsx)(u,{})})]})})]})},x=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(j.f)();return Object(n.useEffect)((function(){c||i.push("/admin/login")}),[c]),Object(r.jsx)("div",{className:"bg",children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{path:"/admin/login",children:Object(r.jsx)(l,{setLoggedIn:a,loggedIn:c})}),Object(r.jsx)(j.a,{path:"/admin",children:Object(r.jsx)(O,{logout:function(){return a(!1)}})})]})})},m=c(11);s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(m.a,{children:Object(r.jsx)(x,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.be43c762.chunk.js.map